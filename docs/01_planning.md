# 企画

# プロジェクト概要

**プロジェクト名: Next.js マインスイーパ**

概要: クラシックなマインスイーパゲームをモダンなウェブテクノロジー（Next.js、TypeScript）を使用して実装します。プレイヤーは論理的推論を用いて、地雷の位置を特定しながらフィールド上のマスを開いていきます。

**開発環境:**

- フロントエンド: Next.js, TypeScript, React
- スタイリング: Tailwind CSS
- 状態管理: React Context API + useReducer

## 基本的なゲームのルール

1. **ゲーム開始:** 正方形のグリッドで構成されたフィールドが表示される。全てのマスは最初は閉じている状態。
2. **基本操作:** 左クリック: マスを開く、右クリック: マスに旗を立てる、中クリックまたは左右同時クリック: 周囲に旗を立てた数と表示された地雷数が一致する場合、周囲の未開封マスを一括で開く
3. **ゲームの進行:** マスを開くと、そのマスが地雷でなければ周囲8方向の地雷数が表示される。周囲に地雷がない場合（数字が0の場合）、隣接するマスが自動的に開かれる。地雷のないマスをすべて開くとゲームクリア。地雷のあるマスを開くとゲームオーバー。
4. **特殊ルール:** 最初にクリックしたマスには地雷が配置されない。論理的推論が成り立たないような地雷配置パターンは避ける。

# プロジェクトスコープ

## 含まれる機能

**ゲーム機能:**

- 難易度選択（初級: 9x9グリッド/10地雷、中級: 16x16グリッド/40地雷、上級: 30x16グリッド/99地雷）
- 基本操作（左クリック、右クリック、中クリック）の実装
- 地雷数のカウンター表示
- タイマー機能
- ゲームの状態表示（プレイ中、勝利、敗北）
- リスタート機能

**UI/UX:**

- レスポンシブデザイン（モバイル、タブレット、デスクトップ対応）
- 直感的な操作感
- ビジュアルフィードバック（マスの開閉、旗の設置、ゲーム結果）
- ダークモード/ライトモード対応

**技術的実装:**

- TypeScriptによる型安全なコード
- コンポーネントベースのアーキテクチャ
- ゲーム状態の管理
- ユニットテスト

## 除外される機能

1. ユーザー認証システム
2. オンラインマルチプレイヤー機能
3. カスタムマップエディタ
4. 3Dバージョン
5. プレイデータの長期保存（セッションストレージのみ使用）

## 将来の拡張可能性

**ゲームモード追加:**

- カスタム難易度設定（グリッドサイズと地雷数の自由設定）
- 六角形や三角形のマスを使用した変則バージョン
- タイムアタックモード

**機能拡張:**

- スコアボードとランキングシステム
- アカウント機能とプレイ履歴
- ヒント機能
- テーマのカスタマイズ

**技術的拡張:**

- PWA（Progressive Web App）対応
- オフラインプレイ機能
- APIによるリモート保存機能

## 技術アプローチ

クライアントサイド中心の実装となります。Next.jsを使用しますが、ゲームロジックはすべてクライアントサイドで完結します。

- ゲームのロジック（マス目の生成、地雷の配置、マスを開く処理など）はすべてブラウザ上で実行
- ゲームの状態管理はクライアント側のステート（React stateやContext API）で処理
- UIの描画やユーザー操作の処理もクライアント側で完結
- ローカルストレージを活用してゲームの進行状況やハイスコアなどをクライアント側で保存

# プロジェクト概要

**プロジェクト名: Next.js マインスイーパ**

概要: クラシックなマインスイーパゲームをモダンなウェブテクノロジー（Next.js、TypeScript）を使用して実装します。プレイヤーは論理的推論を用いて、地雷の位置を特定しながらフィールド上のマスを開いていきます。

**開発環境:**

- フロントエンド: Next.js, TypeScript, React
- スタイリング: Tailwind CSS
- 状態管理: React Context API + useReducer

## 基本的なゲームのルール

1. **ゲーム開始:** 正方形のグリッドで構成されたフィールドが表示される。全てのマスは最初は閉じている状態。
2. **基本操作:** 左クリック: マスを開く、右クリック: マスに旗を立てる、中クリックまたは左右同時クリック: 周囲に旗を立てた数と表示された地雷数が一致する場合、周囲の未開封マスを一括で開く
3. **ゲームの進行:** マスを開くと、そのマスが地雷でなければ周囲8方向の地雷数が表示される。周囲に地雷がない場合（数字が0の場合）、隣接するマスが自動的に開かれる。地雷のないマスをすべて開くとゲームクリア。地雷のあるマスを開くとゲームオーバー。
4. **特殊ルール:** 最初にクリックしたマスには地雷が配置されない。論理的推論が成り立たないような地雷配置パターンは避ける。

# プロジェクトスコープ

## 含まれる機能

**ゲーム機能:**

- 難易度選択（初級: 9x9グリッド/10地雷、中級: 16x16グリッド/40地雷、上級: 30x16グリッド/99地雷）
- 基本操作（左クリック、右クリック、中クリック）の実装
- 地雷数のカウンター表示
- タイマー機能
- ゲームの状態表示（プレイ中、勝利、敗北）
- リスタート機能

**UI/UX:**

- レスポンシブデザイン（モバイル、タブレット、デスクトップ対応）
- 直感的な操作感
- ビジュアルフィードバック（マスの開閉、旗の設置、ゲーム結果）
- ダークモード/ライトモード対応

**技術的実装:**

- TypeScriptによる型安全なコード
- コンポーネントベースのアーキテクチャ
- ゲーム状態の管理
- ユニットテスト

## 除外される機能

1. ユーザー認証システム
2. オンラインマルチプレイヤー機能
3. カスタムマップエディタ
4. 3Dバージョン
5. プレイデータの長期保存（セッションストレージのみ使用）

## 将来の拡張可能性

**ゲームモード追加:**

- カスタム難易度設定（グリッドサイズと地雷数の自由設定）
- 六角形や三角形のマスを使用した変則バージョン
- タイムアタックモード

**機能拡張:**

- スコアボードとランキングシステム
- アカウント機能とプレイ履歴
- ヒント機能
- テーマのカスタマイズ

**技術的拡張:**

- PWA（Progressive Web App）対応
- オフラインプレイ機能
- APIによるリモート保存機能

## 技術アプローチ

クライアントサイド中心の実装となります。Next.jsを使用しますが、ゲームロジックはすべてクライアントサイドで完結します。

- ゲームのロジック（マス目の生成、地雷の配置、マスを開く処理など）はすべてブラウザ上で実行
- ゲームの状態管理はクライアント側のステート（React stateやContext API）で処理
- UIの描画やユーザー操作の処理もクライアント側で完結
- ローカルストレージを活用してゲームの進行状況やハイスコアなどをクライアント側で保存